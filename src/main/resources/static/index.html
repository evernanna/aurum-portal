<html lang="ko">
<html xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8">
  <title th:text="|${pageName}|"></title>
</head>
<body>
<div>
  <h1><a th:href="|/${loginType}|">[[${pageName}]]</a></h1> <hr/>
  <div th:if="${nickname == null}">
    <h3>로그인 되어있지 않습니다!</h3>
    <button th:onclick="|location.href='@{/{loginType}/join (loginType=${loginType})}'|">회원 가입</button> <br/><br/>
    <button th:onclick="|location.href='@{/{loginType}/login (loginType=${loginType})}'|">로그인</button>
  </div>
  <div th:unless="${nickname == null}">
    <h3>[[${nickname}]]님 환영합니다!</h3>
    <button th:onclick="|location.href='@{/{loginType}/info (loginType=${loginType})}'|">유저 정보</button> <br/><br/>
    <button th:onclick="|location.href='@{/{loginType}/admin (loginType=${loginType})}'|">관리자 페이지</button> <br/><br/>
    <button th:onclick="|location.href='@{/{loginType}/logout (loginType=${loginType})}'|">로그아웃</button>
  </div>
</div>
</body>
</html>

<!--
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>스프링 시큐리티 데모</title>
</head>
<body>
<h1>스프링 시큐리티 데모</h1>
<div th:fragment="logout" class="logout" sec:authorize="isAuthenticated()">
  Logged in user: <span sec:authentication="name"></span> | Roles: <span sec:authentication="principal.authorities"></span>
  <div>
    <form action="#" th:action="@{/logout}" method="post">
      <input type="submit" value="Logout"/>
    </form>
  </div>
  <li><a href="/user">User</a></li>
</div>
<div sec:authorize="!isAuthenticated()">
  <li><a href="/login">로그인</a></li>
</div>
</body>
</html>-->
